"use strict";(self["webpackChunkkkclock"]=self["webpackChunkkkclock"]||[]).push([[78],{8379:function(t,e,o){function c(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,o)=>e&&"."!==t&&(o.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}o.d(e,{Z:function(){return c}})},8557:function(t,e,o){function c(t){return{all:t=t||new Map,on:function(e,o){var c=t.get(e);c?c.push(o):t.set(e,[o])},off:function(e,o){var c=t.get(e);c&&(o?c.splice(c.indexOf(o)>>>0,1):t.set(e,[]))},emit:function(e,o){var c=t.get(e);c&&c.slice().map((function(t){t(o)})),(c=t.get("*"))&&c.slice().map((function(t){t(e,o)}))}}}o.d(e,{Z:function(){return l}});const n=c();var l=n},7078:function(t,e,o){o.r(e),o.d(e,{default:function(){return O}});var c=o(3396),n=o(7139),l=o(9242);const r=t=>((0,c.dD)("data-v-1811afec"),t=t(),(0,c.Cn)(),t),i={class:"py-5 mt-5"},a={class:"container"},s=r((()=>(0,c._)("h2",{class:"text-center d-lg-none"},"產品項目",-1))),d={class:"row"},u={class:"col-lg-2 pt-md-5"},p={class:"list-unstyled d-flex flex-lg-column text-nowrap overflow-auto product-list-group"},g={class:"col-lg-10"},v=r((()=>(0,c._)("hr",{class:"ms-lg-2"},null,-1)));function f(t,e,o,r,f,y){const _=(0,c.up)("LoadingPlugin"),x=(0,c.up)("ProductCard");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(_,{active:r.isLoading},null,8,["active"]),(0,c._)("section",i,[(0,c._)("div",a,[s,(0,c._)("div",d,[(0,c._)("div",u,[(0,c._)("ul",p,[(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center border-top",{"list-active":"全部商品"===r.category}]),onClick:e[0]||(e[0]=(0,l.iM)((t=>r.getCategory("全部商品")),["prevent"]))},"全部商品 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"特價"===r.category}]),onClick:e[1]||(e[1]=(0,l.iM)((t=>r.getCategory("特價")),["prevent"]))},"特價 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"流行炫彩"===r.category}]),onClick:e[2]||(e[2]=(0,l.iM)((t=>r.getCategory("流行炫彩")),["prevent"]))},"流行炫彩 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"超級號碼"===r.category}]),onClick:e[3]||(e[3]=(0,l.iM)((t=>r.getCategory("超級號碼")),["prevent"]))},"超級號碼 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"四數大字"===r.category}]),onClick:e[4]||(e[4]=(0,l.iM)((t=>r.getCategory("四數大字")),["prevent"]))},"四數大字 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"經典鬧鐘"===r.category}]),onClick:e[5]||(e[5]=(0,l.iM)((t=>r.getCategory("經典鬧鐘")),["prevent"]))},"經典鬧鐘 ",2)]),(0,c._)("li",null,[(0,c._)("a",{href:"#",class:(0,n.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"其他"===r.category}]),onClick:e[6]||(e[6]=(0,l.iM)((t=>r.getCategory("其他")),["prevent"]))},"其他 ",2)])])]),(0,c._)("div",g,[(0,c._)("h3",null,[(0,c.Uk)((0,n.zw)(r.category)+" ",1),v]),(0,c.Wm)(x,{filterCategory:r.filterCategory},null,8,["filterCategory"])])])])])],64)}var y=o(4870),_=o(2483),x=o(2492),C=o.n(x);const m=t=>((0,c.dD)("data-v-7ef7d395"),t=t(),(0,c.Cn)(),t),h={class:"row row-cols-xl-5 row-cols-lg-3 row-cols-md-3 row-cols-2 g-3 ms-lg-2"},k={class:"card product_card rounded-1 overflow-hidden h-100 border-0"},w=["onClick"],b=["src"],D={class:"card-body py-1"},M={class:"card-text fs-6"},P={class:"d-flex align-items-center justify-content-between"},H={class:"text-secondary mb-0 ogPrice"},I={class:"text-myred mb-0"},Z=["disabled","onClick"],$={key:0,class:"spinner-border spinner-border-sm text-mygrey",role:"status"},z=m((()=>(0,c._)("span",{class:"visually-hidden"},"Loading...",-1))),B=[z],L=(0,c.Uk)(" 加入購物車 ");function U(t,e,o,r,i,a){return(0,c.wg)(),(0,c.iD)("div",h,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.filterCategory,(t=>((0,c.wg)(),(0,c.iD)("div",{class:"col",key:t.id},[(0,c._)("div",k,[(0,c._)("a",{href:"#",class:"text-decoration-none text-dark",onClick:(0,l.iM)((e=>r.getProductData(t.id)),["prevent"])},[(0,c._)("img",{src:t.imageUrl,class:"card-img-top",alt:"clock"},null,8,b),(0,c._)("div",D,[(0,c._)("h3",M,(0,n.zw)(t.title),1),(0,c._)("div",P,[(0,c._)("p",H,"原價NT$"+(0,n.zw)(r.currency(t.origin_price)),1),(0,c._)("p",I,"NT$"+(0,n.zw)(r.currency(t.price)),1)])])],8,w),(0,c._)("button",{type:"button",disabled:r.loadingItem==t.id,class:"btn btn-outline-secondary m-2 py-1 mt-auto",onClick:e=>r.addCart(t.id)},[r.loadingItem==t.id?((0,c.wg)(),(0,c.iD)("div",$,B)):(0,c.kq)("",!0),L],8,Z)])])))),128))])}var j=o(8557),q=o(8379),F={props:["filterCategory"],setup(t){const e=(0,_.tv)(),o=(0,c.f3)("axios"),{filterCategory:n}=(0,y.BK)(t);console.log(n);const l=(0,y.iH)(""),r=t=>{const e="https://vue3-course-api.hexschool.io/api/chienyu-api/cart";l.value=t;const c={product_id:t,qty:1};o.post(e,{data:c}).then((()=>{l.value="",j.Z.emit("updateData"),C().fire({title:"加入成功",position:"top-end",toast:!0,icon:"success",showConfirmButton:!1,timer:1500})})).catch((()=>{l.value="",C().fire({title:"似乎有些問題 請稍後再嘗試",icon:"error",showConfirmButton:!1,timer:2e3})}))},i=t=>{e.push(`product/${t}`)};return{loadingItem:l,addCart:r,getProductData:i,currency:q.Z}}},K=o(89);const N=(0,K.Z)(F,[["render",U],["__scopeId","data-v-7ef7d395"]]);var T=N,W={components:{ProductCard:T},setup(){const t=(0,y.iH)([]),e=(0,y.iH)("全部商品"),o=(0,y.iH)(!1),n=(0,_.yj)(),l=(0,_.tv)(),r=(0,c.f3)("axios");e.value=n.params.category;const i=()=>{const e="https://vue3-course-api.hexschool.io/api/chienyu-api/products/all";o.value=!0,r.get(e).then((e=>{t.value=e.data.products,o.value=!1})).catch((()=>{o.value=!1,C().fire({title:"似乎有些問題 請稍後再來訪",icon:"error",showConfirmButton:!1,timer:2e3}),l.push("/")}))};i();const a=(0,c.Fl)((()=>"全部商品"===e.value?t.value:t.value.filter((t=>t.category===e.value)))),s=t=>{e.value=t,l.push(`${t}`)};return{products:t,category:e,isLoading:o,getProducts:i,filterCategory:a,getCategory:s}}};const Y=(0,K.Z)(W,[["render",f],["__scopeId","data-v-1811afec"]]);var O=Y}}]);
//# sourceMappingURL=78.c94e400d.js.map