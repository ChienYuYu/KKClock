{"version":3,"file":"js/5.096e0d6f.js","mappings":"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","sources":["webpack://kkclock/./src/views/front/KKClockProductItem.vue","webpack://kkclock/./src/views/front/KKClockProductItem.vue?9d50"],"sourcesContent":["<template>\n  <section class=\"bg-white py-5 mt-5\">\n    <div class=\"container\">\n      <div class=\"card p-3 p-md-4 border-0\">\n        <div class=\"row g-0\">\n          <div class=\"col-md-6\">\n            <img :src=\"product.imageUrl\" class=\"img-fluid rounded-3 shadow\" alt=\"clock\" />\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"card-body\">\n              <h2 class=\"card-title\">{{ product.title }}</h2>\n              <p class=\"card-text\">{{ product.description }}</p>\n              <div class=\"d-flex align-items-center mb-3\">\n                <p class=\"ogPrice text-secondary mb-0 ogPrice me-3\">\n                  原價NT${{ currency(product.origin_price) }}\n                </p>\n                <p class=\"text-myred mb-0 h3\">NT${{ currency(product.price) }}</p>\n              </div>\n              <div class=\"d-flex col-10 col-md-6 col-lg-3 mb-4\">\n                <button class=\"btn btn-sm btn-secondary rounded-0\" type=\"button\" @click=\"qty += 1\">\n                  <i class=\"bi bi-plus\" />\n                </button>\n                <input\n                  type=\"number\"\n                  class=\"form-control rounded-0 px-0 text-center bg-white\"\n                  min=\"1\"\n                  id=\"qty\"\n                  aria-label=\"qty\"\n                  v-model=\"qty\"\n                  disabled\n                />\n                <button\n                  class=\"btn btn-sm btn-secondary rounded-0\"\n                  type=\"button\"\n                  @click=\"qty -= 1\"\n                  :disabled=\"qty === 1\"\n                >\n                  <i class=\"bi bi-dash\" />\n                </button>\n              </div>\n              <div>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary p-2 col-12 col-lg-5 me-2 mb-3\"\n                  @click=\"addCart(product.id, false)\"\n                >\n                  <div\n                    class=\"spinner-border spinner-border-sm text-white\"\n                    role=\"status\"\n                    v-if=\"loadingItem == product.id\"\n                  >\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                  加入購物車\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"direct-buy btn p-2 col-12 col-lg-5 mb-3\"\n                  @click=\"addCart(product.id, true)\"\n                >\n                  直接購買\n                </button>\n              </div>\n              <div class=\"d-none d-lg-block text-secondary\">\n                <div class=\"col mt-3\">\n                  <h3 class=\"py-3\">購物須知</h3>\n                  <ul class=\"list-unstyled\">\n                    <li class=\"d-flex\">\n                      <i class=\"bi bi-caret-right-fill me-2\" />\n                      <p>\n                        訂購與配送：完成訂購流程後，商品將依訂單順序於 3-5 日工作天內出貨， 出貨後的\n                        3-5 日工作天可送達指定地址。出貨工作日為週一至週五，週末不出貨，\n                        若遇缺貨、瑕疵等商品狀況，會以電話或 email 聯繫。\n                      </p>\n                    </li>\n                    <li class=\"d-flex\">\n                      <i class=\"bi bi-caret-right-fill me-2\" />\n                      <p>\n                        週末與國定假日訂購及配送：週四晚間 6 點\n                        至週日全天之間完成訂購之訂單，我們會在下個星期一起依訂購順序為您處理包裝出貨。\n                        如遇國定假日，則會順延至正常上班日依序出貨，敬請見諒。\n                      </p>\n                    </li>\n                    <li class=\"d-flex\">\n                      <i class=\"bi bi-caret-right-fill me-2\" />\n                      <p>\n                        臺灣配送時程：臺北市地區於出貨後 1-2 日內即會送達；\n                        臺灣其他地區（不含偏遠與離島）則於出貨後的 1-3 日內送達；\n                        臺灣本島偏遠地區與離島則需視投遞狀況調整配送時間。\n                      </p>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"d-lg-none text-secondary\">\n            <div class=\"col mt-4\">\n              <h3 class=\"py-3 text-center\">購物須知</h3>\n              <ul class=\"list-unstyled\">\n                <li class=\"d-flex\">\n                  <i class=\"bi bi-caret-right-fill me-2\" />\n                  <p>\n                    訂購與配送：完成訂購流程後，商品將依訂單順序於 3-5 日工作天內出貨， 出貨後的 3-5\n                    日工作天可送達指定地址。出貨工作日為週一至週五，週末不出貨，\n                    若遇缺貨、瑕疵等商品狀況，會以電話或 email 聯繫。\n                  </p>\n                </li>\n                <li class=\"d-flex\">\n                  <i class=\"bi bi-caret-right-fill me-2\" />\n                  <p>\n                    週末與國定假日訂購及配送：週四晚間 6 點\n                    至週日全天之間完成訂購之訂單，我們會在下個星期一起依訂購順序為您處理包裝出貨。\n                    如遇國定假日，則會順延至正常上班日依序出貨，敬請見諒。\n                  </p>\n                </li>\n                <li class=\"d-flex\">\n                  <i class=\"bi bi-caret-right-fill me-2\" />\n                  <p>\n                    臺灣配送時程：臺北市地區於出貨後 1-2 日內即會送達；\n                    臺灣其他地區（不含偏遠與離島）則於出貨後的 1-3 日內送達；\n                    臺灣本島偏遠地區與離島則需視投遞狀況調整配送時間。\n                  </p>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section class=\"container py-5\">\n    <h2 class=\"text-secondary text-center text-myred mb-4\">\n      你可能會喜歡\n      <i class=\"bi bi-caret-down-fill\" />\n    </h2>\n    <DProductCard />\n  </section>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport currency from '@/methods/currency';\nimport {\n  ref, inject, computed, watch,\n} from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport Swal from 'sweetalert2';\nimport DProductCard from '@/components/front/ProductCardDiscounted.vue';\n\nexport default {\n  components: {\n    DProductCard,\n  },\n  setup() {\n    const axios = inject('axios');\n    const route = useRoute();\n    const router = useRouter();\n    const id = ref('');\n    const product = ref({});\n    const qty = ref(1);\n    const loadingItem = ref('');\n\n    const getProductDetail = () => {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id.value}`;\n      axios.get(api)\n        .then((res) => {\n          product.value = res.data.product;\n        })\n        .catch(() => {\n          Swal.fire({\n            title: '網頁似乎有些問題 請稍後再來訪',\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n          router.push('/');\n        });\n    };\n\n    id.value = route.params.id; // 原created\n    getProductDetail(); // 原created\n\n    const paramsId = computed(() => route.params.id);\n    watch(paramsId, () => {\n      id.value = paramsId.value; // !!! .value\n      getProductDetail();\n    });\n\n    const addCart = (productId, directPurchase) => {\n      loadingItem.value = productId;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        data: {\n          product_id: productId,\n          qty: qty.value,\n        },\n      };\n      axios.post(api, cart)\n        .then(() => {\n          emitter.emit('updateData');\n          loadingItem.value = '';\n          Swal.fire({\n            title: '加入成功',\n            position: 'top-end',\n            toast: true,\n            icon: 'success',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        })\n        .catch(() => {\n          loadingItem.value = '';\n          Swal.fire({\n            title: '似乎有些問題 請稍後再嘗試',\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n        });\n      if (directPurchase) {\n        router.push('/cart');\n      }\n    };\n\n    return {\n      currency,\n      id,\n      product,\n      qty,\n      loadingItem,\n      getProductDetail,\n      addCart,\n      paramsId,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.direct-buy{\n  border: 1px solid #ff953d;\n  color: #ff953d;\n    &:hover{\n    background: #ff953d;\n    color: #fff;\n  }\n}\n</style>\n","import { render } from \"./KKClockProductItem.vue?vue&type=template&id=44fea17c&scoped=true\"\nimport script from \"./KKClockProductItem.vue?vue&type=script&lang=js\"\nexport * from \"./KKClockProductItem.vue?vue&type=script&lang=js\"\n\nimport \"./KKClockProductItem.vue?vue&type=style&index=0&id=44fea17c&lang=scss&scoped=true\"\n\nimport exportComponent from \"S:\\\\myProject\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44fea17c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_15","_hoisted_18","role","_hoisted_21","src","$setup","imageUrl","alt","_toDisplayString","title","description","origin_price","price","type","onClick","min","id","$event","disabled","_createElementBlock","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_27","_createVNode","_component_DProductCard","components","DProductCard","setup","axios","inject","route","useRoute","router","useRouter","ref","product","qty","loadingItem","getProductDetail","api","value","get","then","res","data","catch","Swal","icon","showConfirmButton","timer","push","params","paramsId","computed","watch","addCart","productId","directPurchase","cart","product_id","post","emitter","position","toast","currency","__exports__","render"],"sourceRoot":""}