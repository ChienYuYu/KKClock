{"version":3,"file":"js/1.72933d1e.js","mappings":"yLAESA,MAAM,sC,GACTC,EAAAA,EAAAA,GAAiD,MAA7CD,MAAM,+BAA8B,QAAI,G,GACvCA,MAAM,sC,GACFE,IAAI,QAAQF,MAAM,qB,GAUtBA,MAAM,sC,GACFE,IAAI,WAAWF,MAAM,qB,GAU9BC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,qCAAmC,EAC5CC,EAAAA,EAAAA,GAAyD,UAAjDE,KAAK,SAASH,MAAM,mBAAkB,QADhD,G,0CAzBJI,EAAAA,EAAAA,IA6BO,QA7BDJ,MAAM,sDAAuDK,SAAM,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAzF,EACEL,EAAAA,EAAAA,GA2BM,MA3BN,EA2BM,CA1BJM,GACAN,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAQQ,QARR,EAQQ,WAPNA,EAAAA,EAAAA,GAME,SALAE,KAAK,QACLH,MAAM,eACNQ,GAAG,QACHC,YAAY,Q,qCACHH,EAAAA,KAAKI,SAAQC,IALxB,iBAKWL,EAAAA,KAAKI,iBAIpBT,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAQQ,QARR,EAQQ,WAPNA,EAAAA,EAAAA,GAME,SALAE,KAAK,WACLH,MAAM,eACNQ,GAAG,WACHC,YAAY,Q,qCACHH,EAAAA,KAAKM,SAAQD,IALxB,iBAKWL,EAAAA,KAAKM,gBAIpBC,KAzBJ,I,2CAqCF,GACEC,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,IAAO,SACfC,GAAOC,EAAAA,EAAAA,IAAI,CACfD,KAAM,CACJT,SAAU,GACVE,SAAU,MAIRS,EAAS,KACb,MAAMC,EAAO,oDACbL,EAAMM,KAAKD,EAAKH,EAAKK,OAClBC,MAAMC,IACL,IAAyB,IAArBA,EAAIC,KAAKC,QAAkB,CAC7B,MAAM,MAAEC,EAAF,QAASC,GAAYJ,EAAIC,KAE/BI,SAASC,OAAU,aAAYH,gBAAoB,IAAII,KAAKH,KAC5Df,EAAOmB,KAAK,qCAGfC,OAAM,KACLC,IAAAA,KAAU,CACRC,MAAO,gBACPC,KAAM,QACNC,mBAAmB,EACnBC,MAAO,UAKf,MAAO,CAAErB,OAAME,Y,QC/DnB,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://kkclock/./src/views/front/LoginView.vue","webpack://kkclock/./src/views/front/LoginView.vue?b4a2"],"sourcesContent":["<template>\n  <form class=\"bg d-flex justify-content-center align-items-center\" @submit.prevent=\"signIn\">\n    <div class=\"login col-10 col-md-6 col-lg-3 p-4\">\n      <h2 class=\"mb-3 text-center text-white\">後台登入</h2>\n      <div class=\"mb-3 d-flex justify-content-center\">\n        <label for=\"email\" class=\"form-label col-12\">\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"email\"\n            placeholder=\"請輸入帳號\"\n            v-model=\"user.username\"\n          />\n        </label>\n      </div>\n      <div class=\"mb-3 d-flex justify-content-center\">\n        <label for=\"password\" class=\"form-label col-12\">\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            placeholder=\"請輸入密碼\"\n            v-model=\"user.password\"\n          />\n        </label>\n      </div>\n      <div class=\"col-12 d-flex justify-content-end\">\n        <button type=\"submit\" class=\"btn btn-warning\">登入</button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, inject } from 'vue';\nimport { useRouter } from 'vue-router';\nimport Swal from 'sweetalert2';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const axios = inject('axios');\n    const user = ref({\n      user: {\n        username: '',\n        password: '',\n      },\n    });\n\n    const signIn = () => {\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      axios.post(api, user.value)\n        .then((res) => {\n          if (res.data.success === true) {\n            const { token, expired } = res.data;\n            // 把token存到cookie裡↓\n            document.cookie = `kkclock = ${token}; expires = ${new Date(expired)}`;\n            router.push('/backstage/product_management');\n          }\n        })\n        .catch(() => {\n          Swal.fire({\n            title: '似乎有些問題 請稍後再嘗試',\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n        });\n    };\n\n    return { user, signIn };\n  },\n\n};\n</script>\n\n<style>\n.bg {\n  background-image: url(@/assets/img/loginBG.jpg);\n  height: 100vh;\n  background-position: center;\n  background-size: cover;\n}\n.login {\n  backdrop-filter: blur(7px);\n  border-radius: 15px;\n  background: rgba(80, 80, 80, 0.4);\n  border: 1px solid #bbb;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=517799d0\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=517799d0&lang=css\"\n\nimport exportComponent from \"S:\\\\myProject\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","$setup","_hoisted_2","id","placeholder","username","$event","password","_hoisted_7","setup","router","useRouter","axios","inject","user","ref","signIn","api","post","value","then","res","data","success","token","expired","document","cookie","Date","push","catch","Swal","title","icon","showConfirmButton","timer","__exports__","render"],"sourceRoot":""}