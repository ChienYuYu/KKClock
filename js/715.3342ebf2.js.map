{"version":3,"file":"js/715.3342ebf2.js","mappings":"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","sources":["webpack://kkclock/./src/views/back/ManagementProduct.vue","webpack://kkclock/./src/components/back/ProductModal.vue","webpack://kkclock/./src/components/back/ProductModal.vue?b615","webpack://kkclock/./src/components/back/DeleteProductModal.vue","webpack://kkclock/./src/components/back/DeleteProductModal.vue?3cd9","webpack://kkclock/./src/views/back/ManagementProduct.vue?02d8"],"sourcesContent":["<template>\n  <LoadingPlugin v-model:active=\"isLoading\" />\n  <div class=\"container\">\n    <div class=\"my-4 d-flex justify-content-between\">\n      <h2>產品管理</h2>\n      <button type=\"button\" class=\"btn btn-dark text-warning\" @click=\"openProductModal(true)\">\n        <i class=\"bi bi-bag-plus-fill me-2\" />新增產品&ensp;\n      </button>\n    </div>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">類別</th>\n          <th scope=\"col\">名稱</th>\n          <th scope=\"col\">原價</th>\n          <th scope=\"col\">售價</th>\n          <th scope=\"col\">是否啟用</th>\n          <th scope=\"col\">編輯/刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in products\" :key=\"item.id\">\n          <td>{{ item.category }}</td>\n          <td>{{ item.title }}</td>\n          <td>{{ currency(item.origin_price) }}</td>\n          <td>{{ currency(item.price) }}</td>\n          <td>\n            <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n            <span class=\"text-muted\" v-else>未啟用</span>\n          </td>\n          <td>\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n              <button\n                type=\"button\"\n                class=\"btn btn-primary text-white\"\n                @click=\"openProductModal(false, item)\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-danger text-white\"\n                @click=\"openDeleteModal(item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\" />\n  <DeleteProductModal\n    ref=\"deleteProductModal\"\n    :product=\"tempProduct\"\n    @delete-item=\"deleteProduct\"\n  />\n  <div class=\"container\">\n    <Pagination\n      :pages=\"pagination\"\n      @page-num=\"getProducts\"\n      @pre-page=\"getProducts\"\n      @next-page=\"getProducts\"\n    />\n  </div>\n</template>\n\n<script>\nimport ProductModal from '@/components/back/ProductModal.vue';\nimport DeleteProductModal from '@/components/back/DeleteProductModal.vue';\nimport Pagination from '@/components/back/PaginationView.vue';\n\nexport default {\n  inject: ['currency', 'emitter'],\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false, // 用於判斷是新增還是編輯\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.axios\n        .get(api)\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.$swal({\n            title: '似乎有些問題 請稍後再嘗試',\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n          this.isLoading = false;\n        });\n    },\n    // 開啟新增/編輯modal\n    openProductModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.$refs.productModal.showModal();\n      this.isNew = isNew;\n    },\n    updateProduct(item) {\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = 'post';\n      if (this.isNew === false) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = 'put';\n      }\n      this.axios[httpMethod](api, { data: item }).then((res) => {\n        this.$refs.productModal.hideModal();\n        if (res.data.success) {\n          this.getProducts();\n          this.emitter.emit('push-message', {\n            style: 'mygreen',\n            title: this.isNew ? '新增成功' : '更新成功',\n          });\n        } else {\n          this.emitter.emit('push-message', {\n            style: 'myred',\n            title: this.isNew ? '新增失敗' : '更新失敗',\n            content: res.data.message.join('、'),\n          });\n        }\n      }).catch(() => {\n        this.$swal({\n          title: '似乎有些問題 請稍後再嘗試',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 2000,\n        });\n      });\n    },\n    openDeleteModal(item) {\n      this.$refs.deleteProductModal.showModal();\n      this.tempProduct = item;\n    },\n    deleteProduct(item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n      this.axios.delete(api).then(() => {\n        this.$refs.deleteProductModal.hideModal();\n        this.getProducts();\n        this.emitter.emit('push-message', {\n          style: 'mygreen',\n          title: '刪除成功',\n        });\n      }).catch(() => {\n        this.$swal({\n          title: '似乎有些問題 請稍後再嘗試',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: 2000,\n        });\n      });\n    },\n  },\n  components: {\n    ProductModal,\n    DeleteProductModal,\n    Pagination,\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <LoadingPlugin v-model:active=\"isLoading\" />\n  <div class=\"modal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-light\">\n          <h5 class=\"modal-title\">產品管理</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" />\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-8\">\n              <div class=\"row\">\n                <div class=\"col-12 mb-3\">\n                  <label for=\"productName\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">產品名稱</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productName\"\n                      placeholder=\"請輸入產品名稱\"\n                      v-model=\"tempProduct.title\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <label for=\"productCategory\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">分類</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productCategory\"\n                      placeholder=\"請輸入分類名稱\"\n                      v-model=\"tempProduct.category\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <label for=\"productUnit\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">單位</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productUnit\"\n                      placeholder=\"請輸入單位名稱\"\n                      v-model=\"tempProduct.unit\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <label for=\"originalPrice\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">原價</p>\n                    <input\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"originalPrice\"\n                      placeholder=\"請輸入原價\"\n                      v-model=\"tempProduct.origin_price\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-6 mb-3\">\n                  <label for=\"productPrice\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">售價</p>\n                    <input\n                      type=\"number\"\n                      class=\"form-control\"\n                      id=\"productPrice\"\n                      placeholder=\"請輸入售價\"\n                      v-model=\"tempProduct.price\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-12 mb-3\">\n                  <label for=\"productDescription\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">產品描述</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productDescription\"\n                      placeholder=\"請輸入產品描述\"\n                      v-model=\"tempProduct.description\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-12 mb-3\">\n                  <label for=\"productContent\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">產品內容</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productContent\"\n                      placeholder=\"請輸入產品內容\"\n                      v-model=\"tempProduct.content\"\n                    />\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-4\">\n              <div class=\"row\">\n                <div class=\"col-12 mb-3\">\n                  <label for=\"productUrl\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">輸入圖片網址</p>\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"productUrl\"\n                      placeholder=\"輸入圖片網址\"\n                      v-model=\"tempProduct.imageUrl\"\n                    />\n                  </label>\n                </div>\n                <div class=\"col-12 mb-3\">\n                  <label for=\"uploadImg\" class=\"form-label w-100\">\n                    <p class=\"mb-2\">上傳圖片</p>\n                    <input\n                      type=\"file\"\n                      class=\"form-control\"\n                      id=\"uploadImg\"\n                      ref=\"fileInput\"\n                      @change=\"uploadFile\"\n                    />\n                  </label>\n                </div>\n                <div>\n                  <img :src=\"tempProduct.imageUrl\" alt=\"產品圖片\" class=\"img-fluid\" />\n                </div>\n                <div class=\"col-12\">\n                  <div class=\"form-check\">\n                    <label class=\"form-check-label\" for=\"enableProduct\">\n                      啟用\n                      <input\n                        class=\"form-check-input\"\n                        type=\"checkbox\"\n                        id=\"enableProduct\"\n                        v-model=\"tempProduct.is_enabled\"\n                      />\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary text-white\"\n            @click=\"$emit('update-product', tempProduct)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: ['product'],\n  emits: ['update-product'],\n  data() {\n    return {\n      modal: {},\n      tempProduct: {},\n      isLoading: false,\n    };\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  methods: {\n    uploadFile() {\n      // 參考https://openhome.cc/Gossip/ECMAScript/FormData.html\n      const uploadImg = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadImg);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.isLoading = true;\n      this.axios\n        .post(api, formData)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.tempProduct.imageUrl = res.data.imageUrl;\n            this.$refs.fileInput.value = ''; // 完成後清空上傳圖片<input>\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$swal({\n            title: '似乎有些問題 請稍後再嘗試',\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n        });\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=4ee5bbbd\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"S:\\\\myProject\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"modal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger\">\n          <h5 class=\"modal-title text-white\">刪除</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" />\n        </div>\n        <div class=\"modal-body\">\n          <p>類別:【{{ product.category }}】 名稱:【{{ product.title }}】</p>\n          <p class=\"text-danger\">※ 刪除後將無法復原!</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button\n            type=\"button\"\n            class=\"btn btn-danger text-white\"\n            @click=\"$emit('delete-item', product)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: ['product'],\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DeleteProductModal.vue?vue&type=template&id=20578d36\"\nimport script from \"./DeleteProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"S:\\\\myProject\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ManagementProduct.vue?vue&type=template&id=5e9b8a43\"\nimport script from \"./ManagementProduct.vue?vue&type=script&lang=js\"\nexport * from \"./ManagementProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"S:\\\\myProject\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","scope","role","_createVNode","_component_LoadingPlugin","active","$data","$event","_hoisted_3","type","onClick","$options","_hoisted_8","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_12","_hoisted_13","_component_ProductModal","ref","product","onUpdateProduct","_component_DeleteProductModal","onDeleteItem","_component_Pagination","pages","onPageNum","onPrePage","onNextPage","tabindex","for","_hoisted_11","placeholder","_hoisted_14","_hoisted_17","unit","_hoisted_20","_hoisted_23","_hoisted_26","description","_hoisted_29","content","_hoisted_34","imageUrl","_hoisted_37","onChange","src","alt","_hoisted_44","_ctx","props","emits","data","modal","tempProduct","isLoading","watch","this","methods","uploadFile","uploadImg","$refs","fileInput","files","formData","FormData","append","api","axios","post","then","res","success","value","catch","$swal","icon","showConfirmButton","timer","mixins","modalMixin","__exports__","$props","_hoisted_6","inject","products","pagination","isNew","getProducts","page","get","openProductModal","productModal","showModal","updateProduct","httpMethod","hideModal","emitter","emit","style","message","join","openDeleteModal","deleteProductModal","deleteProduct","delete","components","ProductModal","DeleteProductModal","Pagination","created","render"],"sourceRoot":""}