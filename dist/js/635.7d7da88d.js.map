{"version":3,"file":"js/635.7d7da88d.js","mappings":"2PAEOA,MAAM,a,GACJA,MAAM,mC,GACJA,MAAM,Y,UACTC,EAAAA,EAAAA,GAAqF,SAA9EC,IAAI,eAAeF,MAAM,0CAAyC,QAAI,K,GACxEA,MAAM,e,SAa+BA,MAAM,e,UAClDC,EAAAA,EAAAA,GAA2C,MAAvCD,MAAO,qBAAoB,WAAO,K,UACtCC,EAAAA,EAAAA,GAAgD,KAA7CD,MAAM,kBAAiB,sBAAkB,K,UAC5CC,EAAAA,EAAAA,GAAsD,KAAnDD,MAAM,kBAAiB,4BAAwB,K,GAFlDG,EACAC,EACAC,G,SAGGL,MAAM,mC,GACHA,MAAM,sB,GACHA,MAAM,sB,UACXC,EAAAA,EAAAA,GAKQ,eAJNA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAA4B,MAAxBD,MAAM,YAAW,OACrBC,EAAAA,EAAAA,GAA6B,MAAzBD,MAAM,YAAW,SAJvB,K,GAUQA,MAAM,Y,GACNA,MAAM,Y,GACFA,MAAM,mD,UAQdC,EAAAA,EAAAA,GAAS,qB,UACTA,EAAAA,EAAAA,GAAS,qB,GACLK,QAAQ,IAAIN,MAAM,Y,GACjBA,MAAM,mB,UAGPC,EAAAA,EAAAA,GAAgD,QAA1CD,MAAM,qBAAoB,aAAS,K,GAM5CA,MAAM,S,UAGLC,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,UAITA,EAAAA,EAAAA,GAAW,UAAP,MAAE,K,UAINA,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,UAITA,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,UAITA,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,SAEAD,MAAM,gB,SACNA,MAAM,qB,UAIdC,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,GAKXD,MAAM,Y,SACDA,MAAM,8B,gGA3FxBO,EAAAA,EAAAA,IAAmDC,EAAA,CAAnCC,OAAQC,EAAAA,WAAS,oBAC/BT,EAAAA,EAAAA,GAiGM,MAjGN,EAiGM,EAhGJA,EAAAA,EAAAA,GAeM,MAfN,EAeM,EAdJA,EAAAA,EAAAA,GAaM,MAbN,EAaM,CAZJU,GACAV,EAAAA,EAAAA,GAMM,MANN,EAMM,WALJA,EAAAA,EAAAA,GAEkB,SAFXW,KAAK,OAAOZ,MAAM,eACzBa,GAAG,eAAgB,mBAAiB,qBAAqBC,SAAA,G,qCAChDJ,EAAAA,QAAOK,IAFhB,iBAESL,EAAAA,YACTT,EAAAA,EAAAA,GACgC,UADxBW,KAAK,SAASZ,MAAM,6BAC3BgB,QAAK,oBAAEC,EAAAA,aAAAA,EAAAA,eAAAA,KAAa,SAEvBhB,EAAAA,EAAAA,GAGI,KAHDD,OAAK,SAAC,wCAAuC,UACX,UADW,KACtBkB,gBAA2B,wBAErD,OAmFA,KAhFYC,UAAO,KAAUD,cAAAA,EAAAA,EAAAA,OAAjCE,EAAAA,EAAAA,IAIM,MAJN,EAIMC,MAJN,WAMAD,EAAAA,EAAAA,IAwEM,MAxEN,EAwEM,EAvEJnB,EAAAA,EAAAA,GAsEO,OAtEP,EAsEO,EArELA,EAAAA,EAAAA,GA+BQ,QA/BR,EA+BQ,CA9BNqB,GAMArB,EAAAA,EAAAA,GAWQ,6BAVNmB,EAAAA,EAAAA,IASOG,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATYd,EAAAA,MAAMe,UAAdC,K,WAAXN,EAAAA,EAAAA,IASO,MAT6BO,IAAKD,EAAKb,IAA9C,EACEZ,EAAAA,EAAAA,GAA+B,WAAA2B,EAAAA,EAAAA,IAAzBF,EAAKG,QAAQC,OAAK,IACxB7B,EAAAA,EAAAA,GAAqB,WAAA2B,EAAAA,EAAAA,IAAfF,EAAKK,KAAG,IACd9B,EAAAA,EAAAA,GAAmD,KAAnD,EAAqB,KAAC2B,EAAAA,EAAAA,IAAEX,EAAAA,SAASS,EAAKM,QAAK,IAC3C/B,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHA,EAAAA,EAAAA,GAEqD,OAFrD,EAEe,KAAC2B,EAAAA,EAAAA,IAAEX,EAAAA,SAASS,EAAKO,cAAW,UAP/C,SAWFhC,EAAAA,EAAAA,GAWQ,eAVNA,EAAAA,EAAAA,GASK,WARHiC,EACAC,GACAlC,EAAAA,EAAAA,GAKK,KALL,EAKK,EAJHA,EAAAA,EAAAA,GAEI,IAFJ,EAA2B,SACrB2B,EAAAA,EAAAA,IAAEX,EAAAA,SAASmB,KAAKC,MAAM3B,EAAAA,MAAMsB,SAAK,GAErCM,WAMVrC,EAAAA,EAAAA,GA8BQ,QA9BR,EA8BQ,EA7BJA,EAAAA,EAAAA,GA4BQ,eA3BNA,EAAAA,EAAAA,GAGK,WAFHsC,GACAtC,EAAAA,EAAAA,GAA6B,WAAA2B,EAAAA,EAAAA,IAAvBlB,EAAAA,MAAM8B,KAAKC,OAAK,MAExBxC,EAAAA,EAAAA,GAGK,WAFHyC,GACAzC,EAAAA,EAAAA,GAA4B,WAAA2B,EAAAA,EAAAA,IAAtBlB,EAAAA,MAAM8B,KAAKG,MAAI,MAEvB1C,EAAAA,EAAAA,GAGK,WAFH2C,GACA3C,EAAAA,EAAAA,GAA2B,WAAA2B,EAAAA,EAAAA,IAArBlB,EAAAA,MAAM8B,KAAKK,KAAG,MAEtB5C,EAAAA,EAAAA,GAGK,WAFH6C,GACA7C,EAAAA,EAAAA,GAA+B,WAAA2B,EAAAA,EAAAA,IAAzBlB,EAAAA,MAAM8B,KAAKO,SAAO,MAE1B9C,EAAAA,EAAAA,GAMK,WALH+C,GACA/C,EAAAA,EAAAA,GAGK,WAF8BS,EAAAA,MAAMuC,UAAAA,EAAAA,EAAAA,OAAvC7B,EAAAA,EAAAA,IAA2D,OAA3D,EAAgD,WAAhD,WACAA,EAAAA,EAAAA,IAAkD,OAAlD,EAAuC,cAG3CnB,EAAAA,EAAAA,GAGK,WAFHiD,GACAjD,EAAAA,EAAAA,GAAoB,WAAA2B,EAAAA,EAAAA,IAAdlB,EAAAA,SAAO,UAIrBT,EAAAA,EAAAA,GAIM,MAJN,EAIM,CAH6CS,EAAAA,MAAMuC,UAAAA,EAAAA,EAAAA,OAAvD7B,EAAAA,EAAAA,IAA8E,SAA9E,EAAgE,YAAhE,WACAA,EAAAA,EAAAA,IAC6B,U,MADrBpB,MAAM,iBACbgB,QAAK,oBAAEC,EAAAA,UAAAA,EAAAA,YAAAA,KAAU,iBA5F1B,IAqGF,OACEkC,OAAQ,CAAC,YACTC,OACE,MAAO,CACLlC,YAAa,MACbC,QAAS,GACTkC,MAAO,CACLb,KAAM,IAERc,WAAW,IAGfC,QAAS,CACPC,cACEC,KAAKH,WAAY,EACjB,MAAMI,EAAO,8DAAkED,KAAKtC,UACpFsC,KAAKE,MAAMC,IAAIF,GAAKG,MAAMC,IACxBL,KAAKH,WAAY,EACM,OAAnBQ,EAAIV,KAAKC,OACXI,KAAKJ,MAAQS,EAAIV,KAAKC,MACtBI,KAAKvC,YAAc4C,EAAIV,KAAKC,MAAMxC,IAElC4C,KAAKvC,YAAc,YAIzB6C,WACE,MAAML,EAAO,4DAAgED,KAAKtC,UAClFsC,KAAKE,MAAMK,KAAKN,GAAKG,MAAK,KACxBJ,KAAKD,mBAIXS,eACEC,SAASpC,MAAQ2B,KAAKU,OAAOC,KAAKtC,Q,QClItC,MAAMuC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://kkclock/./src/views/KKClock_orderSearch.vue","webpack://kkclock/./src/views/KKClock_orderSearch.vue?4910"],"sourcesContent":["<template>\n<LoadingPlugin :active=\"isLoading\"></LoadingPlugin>\n  <div class=\"container\">\n    <div class=\"row justify-content-center mt-5\">\n      <div class=\"col-md-4\">\n        <label for=\"order_search\" class=\"form-label d-block text-center h4 mb-4\">訂單查詢</label>\n        <div class=\"input-group\">\n          <input type=\"text\" class=\"form-control\"\n          id=\"order_search\"  aria-describedby=\"inputGroupPrepend2\" required\n          v-model=\"orderId\">\n          <button type=\"button\" class=\"btn btn-mygreen text-white\"\n          @click=\"searchOrder\">查詢</button>\n        </div>\n        <p class=\"text-myred text-center mb-0 mt-2 py-2\"\n          :class=\"{'d-none': this.tempOrderId !== 'error' }\">\n          訂單編號輸入錯誤，請確認是否輸入正確!\n        </p>\n      </div>\n    </div>\n    <div v-if=\"this.orderId !== this.tempOrderId\" class=\"text-center\">\n      <h2 class= \"text-mygreen py-4\">請輸入訂單編號</h2>\n      <p class=\"text-secondary\">( 20碼數字+符號+英文大小寫 )</p>\n      <p class=\"text-secondary\">範例: -N8RgQpyakFeuOluP-o-</p>\n    </div>\n\n    <div class=\"row justify-content-center my-5\" v-else>\n      <form class=\"col-md-10 col-lg-6\">\n        <table class=\"table align-middle\">\n          <thead>\n            <th>品名</th>\n            <th>數量</th>\n            <th class=\"text-end\">小計</th>\n            <th class=\"text-end\">優惠價</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\n              <td>{{item.product.title}}</td>\n              <td>{{item.qty}}</td>\n              <td class=\"text-end\">${{currency(item.total)}}</td>\n              <td class=\"text-end\">\n                <span class=\"mb-0\n                d-inline-block text-truncate\n                text-myorange\">${{currency(item.final_total)}}</span>\n              </td>\n              </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td></td>\n              <td></td>\n              <td colspan=\"2\" class=\"text-end\">\n                <p class=\"text-myred mb-0\">\n                  總計 ${{currency(Math.round(order.total))}}\n                </p>\n                  <span class=\"text-muted remind\">(小數點四捨五入)</span>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n\n        <table class=\"table\">\n            <tbody>\n              <tr>\n                <th>Email</th>\n                <td>{{order.user.email}}</td>\n              </tr>\n              <tr>\n                <th>姓名</th>\n                <td>{{order.user.name}}</td>\n              </tr>\n              <tr>\n                <th>收件人電話</th>\n                <td>{{order.user.tel}}</td>\n              </tr>\n              <tr>\n                <th>收件人地址</th>\n                <td>{{order.user.address}}</td>\n              </tr>\n              <tr>\n                <th>付款狀態</th>\n                <td>\n                  <span class=\"text-success\" v-if=\"order.is_paid\">付款完成</span>\n                  <span class=\"v-else text-myred\" v-else>尚未付款</span>\n                </td>\n              </tr>\n              <tr>\n                <th>訂單編號</th>\n                <td>{{orderId}}</td>\n              </tr>\n            </tbody>\n        </table>\n        <div class=\"text-end\">\n          <button class=\"btn btn-secondary disabled\" v-if=\"order.is_paid\">付款已完成</button>\n          <button class=\"btn btn-danger\" v-else\n          @click=\"checkout\">付款</button>\n        </div>\n      </form>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['currency'],\n  data() {\n    return {\n      tempOrderId: 'xyz',\n      orderId: '',\n      order: {\n        user: {},\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    searchOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.axios.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.order !== null) {\n          this.order = res.data.order;\n          this.tempOrderId = res.data.order.id;\n        } else {\n          this.tempOrderId = 'error';\n        }\n      });\n    },\n    checkout() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.axios.post(api).then(() => {\n        this.searchOrder();\n      });\n    },\n  },\n  beforeCreate() {\n    document.title = this.$route.meta.title;\n  },\n};\n</script>\n<style scoped>\n.remind {\n  font-size: 12px;\n}\n</style>\n","import { render } from \"./KKClock_orderSearch.vue?vue&type=template&id=7aa0ce48&scoped=true\"\nimport script from \"./KKClock_orderSearch.vue?vue&type=script&lang=js\"\nexport * from \"./KKClock_orderSearch.vue?vue&type=script&lang=js\"\n\nimport \"./KKClock_orderSearch.vue?vue&type=style&index=0&id=7aa0ce48&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\C\\\\Desktop\\\\vueClock\\\\kkclock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7aa0ce48\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_hoisted_7","_hoisted_8","_hoisted_9","colspan","_createVNode","_component_LoadingPlugin","active","$data","_hoisted_4","type","id","required","$event","onClick","$options","tempOrderId","orderId","_createElementBlock","_hoisted_10","_hoisted_14","_Fragment","_renderList","products","item","key","_toDisplayString","product","title","qty","total","final_total","_hoisted_18","_hoisted_19","Math","round","_hoisted_22","_hoisted_24","user","email","_hoisted_25","name","_hoisted_26","tel","_hoisted_27","address","_hoisted_28","is_paid","_hoisted_31","inject","data","order","isLoading","methods","searchOrder","this","api","axios","get","then","res","checkout","post","beforeCreate","document","$route","meta","__exports__","render"],"sourceRoot":""}