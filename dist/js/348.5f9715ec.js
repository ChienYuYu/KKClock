"use strict";(self["webpackChunkkkclock"]=self["webpackChunkkkclock"]||[]).push([[348],{2348:function(t,e,o){o.r(e),o.d(e,{default:function(){return W}});var i=o(3396),c=o(7139),s=o(9242);const r=t=>((0,i.dD)("data-v-580d1840"),t=t(),(0,i.Cn)(),t),a={class:"py-5"},l={class:"container"},n=r((()=>(0,i._)("h2",{class:"text-center d-lg-none"},"產品項目",-1))),d={class:"row"},p={class:"col-lg-2 pt-md-5"},u={class:"list-unstyled d-flex flex-lg-column text-nowrap overflow-auto product-list-group"},g={class:"col-lg-10"},h=r((()=>(0,i._)("hr",null,null,-1)));function y(t,e,o,r,y,_){const x=(0,i.up)("LoadingPlugin"),v=(0,i.up)("ProductCard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(x,{active:y.isLoading},null,8,["active"]),(0,i._)("section",a,[(0,i._)("div",l,[n,(0,i._)("div",d,[(0,i._)("div",p,[(0,i._)("ul",u,[(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center border-top",{"list-active":"全部商品"===y.category}]),onClick:e[0]||(e[0]=(0,s.iM)((t=>_.getCategory("全部商品")),["prevent"]))},"全部商品",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"特價"===y.category}]),onClick:e[1]||(e[1]=(0,s.iM)((t=>_.getCategory("特價")),["prevent"]))},"特價",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"流行炫彩"===y.category}]),onClick:e[2]||(e[2]=(0,s.iM)((t=>_.getCategory("流行炫彩")),["prevent"]))},"流行炫彩",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"超級號碼"===y.category}]),onClick:e[3]||(e[3]=(0,s.iM)((t=>_.getCategory("超級號碼")),["prevent"]))},"超級號碼",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"四數大字"===y.category}]),onClick:e[4]||(e[4]=(0,s.iM)((t=>_.getCategory("四數大字")),["prevent"]))},"四數大字",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"經典鬧鐘"===y.category}]),onClick:e[5]||(e[5]=(0,s.iM)((t=>_.getCategory("經典鬧鐘")),["prevent"]))},"經典鬧鐘",2)]),(0,i._)("li",null,[(0,i._)("a",{href:"#",class:(0,c.C_)(["list-item px-4 px-lg-5 py-2 d-block text-decoration-none text-center",{"list-active":"其他"===y.category}]),onClick:e[6]||(e[6]=(0,s.iM)((t=>_.getCategory("其他")),["prevent"]))},"其他",2)])])]),(0,i._)("div",g,[(0,i._)("h3",null,[(0,i.Uk)((0,c.zw)(y.category),1),h]),(0,i.Wm)(v,{products:y.products},null,8,["products"])])])])])],64)}const _=t=>((0,i.dD)("data-v-1a40cdb6"),t=t(),(0,i.Cn)(),t),x={class:"row row-cols-lg-5 row-cols-md-3 row-cols-2 g-3"},v={class:"card product_card rounded-1 overflow-hidden h-100 border-0"},m=["onClick"],C=["src"],k={class:"card-body py-1"},b={class:"card-text fs-6"},f={class:"d-flex align-items-center justify-content-between"},w={class:"text-secondary mb-0 ogPrice"},D={class:"text-myred mb-0"},P=["disabled","onClick"],$={key:0,class:"spinner-border spinner-border-sm text-white",role:"status"},M=_((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),I=[M],L=(0,i.Uk)(" 加入購物車 ");function z(t,e,o,r,a,l){return(0,i.wg)(),(0,i.iD)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:t.id},[(0,i._)("div",v,[(0,i._)("a",{href:"#",class:"text-decoration-none text-dark",onClick:(0,s.iM)((e=>l.getProductData(t.id)),["prevent"])},[(0,i._)("img",{src:t.imageUrl,class:"card-img-top",alt:"clock"},null,8,C),(0,i._)("div",k,[(0,i._)("h3",b,(0,c.zw)(t.title),1),(0,i._)("div",f,[(0,i._)("p",w,"原價NT$"+(0,c.zw)(l.currency(t.origin_price)),1),(0,i._)("p",D,"NT$"+(0,c.zw)(l.currency(t.price)),1)])])],8,m),(0,i._)("button",{type:"button",disabled:this.loadingItem==t.id,class:"btn btn-mygreen text-white m-2 py-0",onClick:e=>l.addCart(t.id)},[this.loadingItem==t.id?((0,i.wg)(),(0,i.iD)("div",$,I)):(0,i.kq)("",!0),L],8,P)])])))),128))])}var U={props:["products"],data(){return{loadingItem:""}},inject:["emitter","currency"],methods:{addCart(t){const e="https://vue3-course-api.hexschool.io/api/chienyu-api/cart";this.loadingItem=t;const o={product_id:t,qty:1};this.axios.post(e,{data:o}).then((()=>{this.loadingItem="",this.emitter.emit("updateData"),this.$swal({title:"加入成功",position:"top-end",toast:!0,icon:"success",showConfirmButton:!1,timer:1500})}))},getProductData(t){this.$router.push(`product/${t}`)}}},j=o(89);const q=(0,j.Z)(U,[["render",z],["__scopeId","data-v-1a40cdb6"]]);var H=q,N={data(){return{products:[],category:"全部商品",isLoading:!1}},components:{ProductCard:H},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/chienyu-api/products/all";this.isLoading=!0,this.axios.get(t).then((t=>{"全部商品"!==this.category?this.products=t.data.products.filter((t=>t.category===this.category)):this.products=t.data.products,this.isLoading=!1}))},getCategory(t){this.category=t,this.$router.push(`${t}`),this.getProducts()}},beforeCreate(){document.title=this.$route.meta.title},created(){this.category=this.$route.params.category,this.getProducts()}};const T=(0,j.Z)(N,[["render",y],["__scopeId","data-v-580d1840"]]);var W=T}}]);
//# sourceMappingURL=348.5f9715ec.js.map